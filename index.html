<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apprendre l'Arabe Libanais</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Ic√¥nes simplifi√©es en SVG
        const BookOpen = () => (
            <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );

        const Volume2 = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
            </svg>
        );

        const ChevronRight = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
            </svg>
        );

        const Trophy = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
            </svg>
        );

        const CheckCircle = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const XCircle = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const RotateCcw = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" />
            </svg>
        );

        const LebaneseLearningApp = () => {
          const [currentCategory, setCurrentCategory] = useState('salutations');
          const [currentCardIndex, setCurrentCardIndex] = useState(0);
          const [showTranslation, setShowTranslation] = useState(false);
          const [activeTab, setActiveTab] = useState('vocabulary');
          const [quizMode, setQuizMode] = useState(false);
          const [quizAnswers, setQuizAnswers] = useState({});
          const [quizSubmitted, setQuizSubmitted] = useState(false);
          const [progress, setProgress] = useState({});
          const [completedCategories, setCompletedCategories] = useState([]);
          const [reviewMode, setReviewMode] = useState(false);
          const [showExamples, setShowExamples] = useState(false);

          useEffect(() => {
            loadProgress();
          }, []);

          const loadProgress = () => {
            try {
              const saved = localStorage.getItem('lebanese-progress');
              const completed = localStorage.getItem('lebanese-completed');
              if (saved) setProgress(JSON.parse(saved));
              if (completed) setCompletedCategories(JSON.parse(completed));
            } catch (error) {
              console.log('Nouvelle session');
            }
          };

          const saveProgress = (newProgress, newCompleted) => {
            try {
              localStorage.setItem('lebanese-progress', JSON.stringify(newProgress));
              if (newCompleted) {
                localStorage.setItem('lebanese-completed', JSON.stringify(newCompleted));
              }
            } catch (error) {
              console.error('Erreur de sauvegarde:', error);
            }
          };

          const vocabulary = {
            salutations: [
              { arabic: 'ŸÖÿ±ÿ≠ÿ®ÿß', transliteration: 'Marhaba', french: 'Bonjour/Salut' },
              { arabic: 'ŸÉŸäŸÅŸÉÿü', transliteration: 'Kifak? (m) / Kifik? (f)', french: 'Comment vas-tu ?' },
              { arabic: 'ŸÖŸÜŸäÿ≠', transliteration: 'Mnih', french: 'Bien' },
              { arabic: 'ÿ¥ŸÉÿ±ÿßŸã', transliteration: 'Shukran', french: 'Merci' },
              { arabic: 'ÿπŸÅŸàÿßŸã', transliteration: 'Afwan', french: 'De rien' },
              { arabic: 'ŸÖÿπ ÿßŸÑÿ≥ŸÑÿßŸÖÿ©', transliteration: "Ma'a salam√©", french: 'Au revoir' },
              { arabic: 'ÿµÿ®ÿßÿ≠ ÿßŸÑÿÆŸäÿ±', transliteration: 'Sabah el kheir', french: 'Bonjour (matin)' },
              { arabic: 'ÿ™ÿµÿ®ÿ≠ ÿπŸÑŸâ ÿÆŸäÿ±', transliteration: 'Tisbah ala kheir', french: 'Bonne nuit' },
              { arabic: 'Ÿäÿ≥ŸÑŸÖŸà', transliteration: 'Yislamo', french: 'Merci (informel)' },
              { arabic: 'ÿ£ŸáŸÑÿß', transliteration: 'Ahla', french: 'Bienvenue' },
              { arabic: 'ŸÉŸäŸÅ ÿßŸÑÿµÿ≠ÿ©ÿü', transliteration: 'Kif es-sehha?', french: 'Comment √ßa va ?' },
              { arabic: 'ÿßŸÑÿ≠ŸÖÿØ ŸÑŸÑŸá', transliteration: 'El hamdellah', french: 'Bien, Dieu merci' },
            ],
            famille: [
              { arabic: 'ÿ£ŸÖŸëŸä', transliteration: 'Emme', french: 'Ma m√®re' },
              { arabic: 'ÿ®ŸäŸëŸä', transliteration: 'Bayye', french: 'Mon p√®re' },
              { arabic: 'ÿ£ÿÆŸä', transliteration: 'Khayy√©', french: 'Mon fr√®re' },
              { arabic: 'ÿ£ÿÆÿ™Ÿä', transliteration: 'Kht√©', french: 'Ma s≈ìur' },
              { arabic: 'ÿ¨ÿØŸëŸä', transliteration: 'Jedde', french: 'Mon grand-p√®re' },
              { arabic: 'ÿ≥ÿ™ŸëŸä', transliteration: 'Sitte', french: 'Ma grand-m√®re' },
              { arabic: 'ÿπŸäŸÑÿ©', transliteration: 'Ayl√©', french: 'Famille' },
              { arabic: 'ŸàŸÑÿØ', transliteration: 'Walad', french: 'Gar√ßon/Fils' },
              { arabic: 'ÿ®ŸÜÿ™', transliteration: 'Bent', french: 'Fille' },
              { arabic: 'ÿπŸÖŸëŸä', transliteration: 'Amme', french: 'Mon oncle paternel' },
              { arabic: 'ÿÆÿßŸÑŸä', transliteration: 'Khale', french: 'Mon oncle maternel' },
              { arabic: 'ÿπŸÖÿ™Ÿä', transliteration: 'Ammte', french: 'Ma tante paternelle' },
              { arabic: 'ÿÆÿßŸÑÿ™Ÿä', transliteration: 'Khalte', french: 'Ma tante maternelle' },
            ],
            nourriture: [
              { arabic: 'ÿÆÿ®ÿ≤', transliteration: 'Khebez', french: 'Pain' },
              { arabic: 'ŸÖŸä', transliteration: 'Mayy', french: 'Eau' },
              { arabic: 'ŸÇŸáŸàÿ©', transliteration: 'Ahw√©', french: 'Caf√©' },
              { arabic: 'ÿ≠ŸÑŸäÿ®', transliteration: 'Haleeb', french: 'Lait' },
              { arabic: 'ŸÅÿ∑Ÿàÿ±', transliteration: 'Ftour', french: 'Petit-d√©jeuner' },
              { arabic: 'ÿ∫ÿØÿß', transliteration: 'Ghada', french: 'D√©jeuner' },
              { arabic: 'ÿπÿ¥ÿß', transliteration: 'Asha', french: 'D√Æner' },
              { arabic: 'ÿ™ŸÅÿßÿ≠', transliteration: 'Teffah', french: 'Pomme' },
              { arabic: 'ŸÖŸàÿ≤', transliteration: 'Mawz', french: 'Banane' },
              { arabic: 'ŸÑÿ≠ŸÖÿ©', transliteration: 'Lahm√©', french: 'Viande' },
              { arabic: 'ÿØÿ¨ÿßÿ¨', transliteration: 'Djej', french: 'Poulet' },
              { arabic: 'ÿ≥ŸÖŸÉ', transliteration: 'Samak', french: 'Poisson' },
              { arabic: 'ÿ£ÿ±ÿ≤', transliteration: 'Rez', french: 'Riz' },
              { arabic: 'ÿ≠ŸÖÿµ', transliteration: 'Hommos', french: 'Houmous' },
              { arabic: 'ÿ™ÿ®ŸàŸÑÿ©', transliteration: 'Taboul√©', french: 'Taboul√©' },
            ],
            nombres: [
              { arabic: 'Ÿàÿßÿ≠ÿØ', transliteration: 'Wahed', french: 'Un (1)' },
              { arabic: 'ÿßÿ´ŸÜŸäŸÜ', transliteration: 'Tnayn', french: 'Deux (2)' },
              { arabic: 'ÿ™ŸÑÿßÿ™ÿ©', transliteration: 'Tlet√©', french: 'Trois (3)' },
              { arabic: 'ÿ£ÿ±ÿ®ÿπÿ©', transliteration: "Arba'a", french: 'Quatre (4)' },
              { arabic: 'ÿÆŸÖÿ≥ÿ©', transliteration: 'Khamseh', french: 'Cinq (5)' },
              { arabic: 'ÿ≥ÿ™ÿ©', transliteration: 'Sett√©', french: 'Six (6)' },
              { arabic: 'ÿ≥ÿ®ÿπÿ©', transliteration: "Sab'a", french: 'Sept (7)' },
              { arabic: 'ÿ™ŸÖÿßŸÜŸäÿ©', transliteration: 'Tmen√©', french: 'Huit (8)' },
              { arabic: 'ÿ™ÿ≥ÿπÿ©', transliteration: "Tes'a", french: 'Neuf (9)' },
              { arabic: 'ÿπÿ¥ÿ±ÿ©', transliteration: 'Ashara', french: 'Dix (10)' },
              { arabic: 'ÿπÿ¥ÿ±ŸäŸÜ', transliteration: 'Ashreen', french: 'Vingt (20)' },
              { arabic: 'ÿ™ŸÑÿßÿ™ŸäŸÜ', transliteration: 'Tleteen', french: 'Trente (30)' },
              { arabic: 'ŸÖŸäÿ©', transliteration: 'Miy√©', french: 'Cent (100)' },
            ],
            verbes: [
              { arabic: 'ÿ®ÿØŸëŸä', transliteration: 'Badde', french: 'Je veux' },
              { arabic: 'ÿ®ÿ≠ÿ®Ÿë', transliteration: 'Bhebb', french: "J'aime" },
              { arabic: 'ÿ®ÿπÿ±ŸÅ', transliteration: "B'ref", french: 'Je sais' },
              { arabic: 'ÿ®ŸÅŸáŸÖ', transliteration: 'Bfham', french: 'Je comprends' },
              { arabic: 'ÿ®ÿ±Ÿàÿ≠', transliteration: 'Brouh', french: 'Je vais' },
              { arabic: 'ÿ®ÿ¥ŸàŸÅ', transliteration: 'Bshouf', french: 'Je vois' },
              { arabic: 'ÿ®ŸÇŸàŸÑ', transliteration: 'B\'oul', french: 'Je dis' },
              { arabic: 'ÿ®ÿ¢ŸÉŸÑ', transliteration: 'Bekol', french: 'Je mange' },
              { arabic: 'ÿ®ÿ¥ÿ±ÿ®', transliteration: 'Beshrab', french: 'Je bois' },
              { arabic: 'ÿ®ŸÜÿßŸÖ', transliteration: 'Bnem', french: 'Je dors' },
              { arabic: 'ÿ®ÿ¥ÿ™ÿ∫ŸÑ', transliteration: 'Beshteghel', french: 'Je travaille' },
              { arabic: 'ÿ®ÿØÿ±ÿ≥', transliteration: 'Bedros', french: "J'√©tudie" },
            ],
            expressions: [
              { arabic: 'ÿ•ŸÜ ÿ¥ÿßÿ° ÿßŸÑŸÑŸá', transliteration: 'Inshallah', french: "Si Dieu veut" },
              { arabic: 'ŸÖÿßÿ¥Ÿä ÿßŸÑÿ≠ÿßŸÑ', transliteration: 'Meshi l-hal', french: '√áa va' },
              { arabic: 'ŸäŸÑÿß', transliteration: 'Yalla', french: 'Allez, viens' },
              { arabic: 'ÿ¥Ÿà ŸáÿßŸÑÿ≠ŸÑÿß', transliteration: 'Shou hal hala', french: 'Comme tu es beau/belle!' },
              { arabic: 'ÿ™ŸÅÿ∂ŸÑ', transliteration: 'Tfaddal', french: 'Je t\'en prie, entre' },
              { arabic: 'ÿµÿ≠ÿ™ŸäŸÜ', transliteration: 'Sahteyn', french: 'Bon app√©tit' },
              { arabic: 'ŸÉŸÑ ÿ≥ŸÜÿ© ŸàÿßŸÜÿ™ ÿ∑Ÿäÿ®', transliteration: 'Kel sen√© w enta tayeb', french: 'Joyeux anniversaire' },
              { arabic: 'ÿ≥ŸÑÿßŸÖÿ™ŸÉ', transliteration: 'Salamtak', french: '√Ä tes souhaits / Prompt r√©tablissement' },
              { arabic: 'ÿ®ÿßŸÑÿ™ŸàŸÅŸäŸÇ', transliteration: 'Bel tawfi\'', french: 'Bonne chance' },
              { arabic: 'ÿ≠ÿ®Ÿäÿ®Ÿä', transliteration: 'Habibi', french: 'Mon ch√©ri (m)' },
              { arabic: 'ÿ≠ÿ®Ÿäÿ®ÿ™Ÿä', transliteration: 'Habibte', french: 'Ma ch√©rie (f)' },
            ],
            couleurs: [
              { arabic: 'ÿ£ÿ≠ŸÖÿ±', transliteration: 'Ahmar', french: 'Rouge' },
              { arabic: 'ÿ£ÿ≤ÿ±ŸÇ', transliteration: 'Azra\'', french: 'Bleu' },
              { arabic: 'ÿ£ÿÆÿ∂ÿ±', transliteration: 'Akhdar', french: 'Vert' },
              { arabic: 'ÿ£ÿµŸÅÿ±', transliteration: 'Asfar', french: 'Jaune' },
              { arabic: 'ÿ£ÿ®Ÿäÿ∂', transliteration: 'Abyad', french: 'Blanc' },
              { arabic: 'ÿ£ÿ≥ŸàÿØ', transliteration: 'Aswad', french: 'Noir' },
              { arabic: 'ÿ®ÿ±ÿ™ŸÇÿßŸÑŸä', transliteration: 'Borto\'ane', french: 'Orange' },
              { arabic: 'ÿ®ŸÜŸÅÿ≥ÿ¨Ÿä', transliteration: 'Banafsaje', french: 'Violet' },
              { arabic: 'Ÿàÿ±ÿØŸä', transliteration: 'Warde', french: 'Rose' },
            ],
            temps: [
              { arabic: 'ÿßŸÑŸäŸàŸÖ', transliteration: 'El yawm', french: "Aujourd'hui" },
              { arabic: 'ÿ®ŸÉÿ±ÿß', transliteration: 'Bokra', french: 'Demain' },
              { arabic: 'ŸÖÿ®ÿßÿ±ÿ≠', transliteration: 'Mbereh', french: 'Hier' },
              { arabic: 'ŸáŸÑŸÇ', transliteration: 'Halla\'', french: 'Maintenant' },
              { arabic: 'ÿ¥ŸàŸä', transliteration: 'Shway', french: 'Un peu, bient√¥t' },
              { arabic: 'ÿµÿ®ÿ≠', transliteration: 'Sebeh', french: 'Matin' },
              { arabic: 'ÿ∏Ÿáÿ±', transliteration: 'Doh√©r', french: 'Midi' },
              { arabic: 'ŸÑŸäŸÑ', transliteration: 'Layl', french: 'Nuit' },
              { arabic: 'ÿ¥ŸÖÿ≥', transliteration: 'Shams', french: 'Soleil' },
              { arabic: 'ÿ¥ÿ™Ÿä', transliteration: 'Shte', french: 'Pluie / Hiver' },
            ],
            lieux: [
              { arabic: 'ÿ®Ÿäÿ™', transliteration: 'Bayt', french: 'Maison' },
              { arabic: 'ÿ¥ÿ∫ŸÑ', transliteration: 'Shoghl', french: 'Travail' },
              { arabic: 'ŸÖÿØÿ±ÿ≥ÿ©', transliteration: 'Madras√©', french: '√âcole' },
              { arabic: 'ÿ¨ÿßŸÖÿπÿ©', transliteration: 'Jem\'a', french: 'Universit√©' },
              { arabic: 'ŸÖÿ∑ÿπŸÖ', transliteration: 'Mat\'am', french: 'Restaurant' },
              { arabic: 'ÿØŸÉÿßŸÜ', transliteration: 'Dekken', french: 'Magasin' },
              { arabic: 'ÿ≥ŸàŸÇ', transliteration: 'Sou\'', french: 'March√©' },
              { arabic: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ', transliteration: 'Mostashfa', french: 'H√¥pital' },
              { arabic: 'ÿ¥ÿßÿ±ÿπ', transliteration: 'Shere\'', french: 'Rue' },
              { arabic: 'ÿ®ŸÑÿØ', transliteration: 'Balad', french: 'Ville/Pays' },
            ],
          };

          const categories = {
            salutations: { name: 'Salutations', icon: 'üëã' },
            famille: { name: 'Famille', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' },
            nourriture: { name: 'Nourriture', icon: 'üçΩÔ∏è' },
            nombres: { name: 'Nombres', icon: 'üî¢' },
            verbes: { name: 'Verbes courants', icon: '‚ö°' },
            expressions: { name: 'Expressions', icon: 'üí¨' },
            couleurs: { name: 'Couleurs', icon: 'üé®' },
            temps: { name: 'Temps & M√©t√©o', icon: '‚è∞' },
            lieux: { name: 'Lieux', icon: 'üìç' },
          };

          const exampleSentences = {
            salutations: [
              { arabic: 'ŸÖÿ±ÿ≠ÿ®ÿß! ŸÉŸäŸÅŸÉ ÿßŸÑŸäŸàŸÖÿü', transliteration: "Marhaba! Kifak el yawm?", french: "Salut ! Comment vas-tu aujourd'hui ?" },
              { arabic: 'ÿ£ŸÜÿß ŸÖŸÜŸäÿ≠ÿå ÿ¥ŸÉÿ±ÿßŸã. ŸàÿßŸÜÿ™ÿü', transliteration: "Ana mnih, shukran. W enta?", french: "Je vais bien, merci. Et toi ?" },
              { arabic: 'ÿµÿ®ÿßÿ≠ ÿßŸÑÿÆŸäÿ±! ŸÉŸäŸÅ ÿßŸÑÿµÿ≠ÿ©ÿü', transliteration: "Sabah el kheir! Kif es-sehha?", french: "Bonjour ! Comment √ßa va ?" },
              { arabic: 'ÿßŸÑÿ≠ŸÖÿØ ŸÑŸÑŸáÿå ŸÉŸÑ ÿ¥Ÿä ŸÖŸÜŸäÿ≠', transliteration: "El hamdellah, kel shi mnih", french: "Dieu merci, tout va bien" },
              { arabic: 'Ÿäÿ≥ŸÑŸÖŸàÿå ŸÖÿπ ÿßŸÑÿ≥ŸÑÿßŸÖÿ©', transliteration: "Yislamo, ma'a salam√©", french: "Merci, au revoir" },
              { arabic: 'ÿ™ÿµÿ®ÿ≠ ÿπŸÑŸâ ÿÆŸäÿ± Ÿàÿ£ÿ≠ŸÑÿßŸÖ ÿ≠ŸÑŸàÿ©', transliteration: "Tisbah ala kheir w ahlam helw√©", french: "Bonne nuit et fais de beaux r√™ves" },
            ],
            famille: [
              { arabic: 'ÿ£ŸÖŸä Ÿàÿ®ŸäŸä ÿ®ÿßŸÑÿ®Ÿäÿ™', transliteration: "Emme w bayye bel bayt", french: "Ma m√®re et mon p√®re sont √† la maison" },
              { arabic: 'ÿπŸÜÿØŸä ÿ£ÿÆ Ÿàÿ£ÿÆÿ™ŸäŸÜ', transliteration: "Ande khayy√© w ekhtayn", french: "J'ai un fr√®re et deux s≈ìurs" },
              { arabic: 'ÿ≥ÿ™Ÿä ÿ®ÿ™ÿ∑ÿ®ÿÆ ŸÖŸÜŸäÿ≠ ŸÉÿ™Ÿäÿ±', transliteration: "Sitte btetbokh mnih ktir", french: "Ma grand-m√®re cuisine tr√®s bien" },
              { arabic: 'ÿ®ÿ≠ÿ® ÿπŸäŸÑÿ™Ÿä ŸÉÿ™Ÿäÿ±', transliteration: "Bhebb aylte ktir", french: "J'aime beaucoup ma famille" },
              { arabic: 'ÿÆÿßŸÑŸä ÿ≥ÿßŸÉŸÜ ÿ®ŸÅÿ±ŸÜÿ≥ÿß', transliteration: "Khale seken b Fransa", french: "Mon oncle habite en France" },
              { arabic: 'ÿ®ŸÜÿ™Ÿä ÿπŸÖÿ±Ÿáÿß ÿÆŸÖÿ≥ ÿ≥ŸÜŸäŸÜ', transliteration: "Bente omra khamas snin", french: "Ma fille a cinq ans" },
            ],
            nourriture: [
              { arabic: 'ÿ®ÿØŸä ÿ£ÿ¥ÿ±ÿ® ŸÇŸáŸàÿ© Ÿàÿ¢ŸÉŸÑ ÿÆÿ®ÿ≤', transliteration: "Badde eshrab ahw√© w ekol khebez", french: "Je veux boire du caf√© et manger du pain" },
              { arabic: 'ÿ¥Ÿà ÿ®ÿØŸÉ ÿ™ÿ¢ŸÉŸÑ ÿπŸÑŸâ ÿßŸÑŸÅÿ∑Ÿàÿ±ÿü', transliteration: "Shou baddak tekol 'al ftour?", french: "Qu'est-ce que tu veux manger au petit-d√©jeuner ?" },
              { arabic: 'ÿßŸÑÿ≠ŸÖÿµ ŸàÿßŸÑÿ™ÿ®ŸàŸÑÿ© ŸÑÿ∞ÿßÿ∞ ŸÉÿ™Ÿäÿ±', transliteration: "El hommos w et-taboul√© laziz ktir", french: "Le houmous et le taboul√© sont d√©licieux" },
              { arabic: 'ÿ®ÿ≠ÿ® ÿßŸÑÿØÿ¨ÿßÿ¨ ÿ£ŸÉÿ™ÿ± ŸÖŸÜ ÿßŸÑŸÑÿ≠ŸÖÿ©', transliteration: "Bhebb ed-djej aktar men el-lahm√©", french: "J'aime le poulet plus que la viande" },
              { arabic: 'ŸÅŸä ŸÖŸä ÿ®ÿßŸÑÿ™ŸÑÿßÿ¨ÿ©', transliteration: "Fi mayy bel tellaj√©", french: "Il y a de l'eau dans le frigo" },
              { arabic: 'ÿµÿ≠ÿ™ŸäŸÜ! ÿßŸÑÿ£ŸÉŸÑ ÿ∑Ÿäÿ®', transliteration: "Sahteyn! El akel tayeb", french: "Bon app√©tit ! La nourriture est bonne" },
            ],
            nombres: [
              { arabic: 'ÿπŸÜÿØŸä ÿ™ŸÑÿßÿ™ ÿ™ŸÅÿßÿ≠ÿßÿ™', transliteration: "Ande tlat teffahet", french: "J'ai trois pommes" },
              { arabic: 'ÿ£ÿØŸäÿ¥ ŸáÿßŸÑŸÉÿ™ÿßÿ®ÿü - ÿπÿ¥ÿ± ÿØŸàŸÑÿßÿ±', transliteration: "Addeysh hal kteb? - Ashar dollar", french: "Combien co√ªte ce livre ? - Dix dollars" },
              { arabic: 'ÿπŸÖÿ±Ÿä ÿπÿ¥ÿ±ŸäŸÜ ÿ≥ŸÜÿ©', transliteration: "Omre ashreen sen√©", french: "J'ai vingt ans" },
              { arabic: 'ŸÅŸä ÿ≥ÿ™ÿ© ŸàŸÑÿßÿØ ÿ®ÿßŸÑÿµŸÅ', transliteration: "Fi sett√© wled bel saff", french: "Il y a six enfants dans la classe" },
              { arabic: 'ÿ®ÿ¥ÿ™ÿ∫ŸÑ ŸÖŸÜ ÿ™ŸÖÿßŸÜŸäÿ© ŸÑÿÆŸÖÿ≥ÿ©', transliteration: "Beshteghel men tmen√© la-khams√©", french: "Je travaille de huit heures √† cinq heures" },
              { arabic: 'ÿ®ÿØŸä ŸÉŸäŸÑŸà ŸÖŸàÿ≤ÿå ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ', transliteration: "Badde kilo mawz, men fadalak", french: "Je veux un kilo de bananes, s'il vous pla√Æt" },
            ],
            verbes: [
              { arabic: 'ÿ®ÿØŸä ÿ±Ÿàÿ≠ ÿπŸÑŸâ ÿßŸÑÿ¥ÿ∫ŸÑ', transliteration: "Badde rouh 'al shoghl", french: "Je veux aller au travail" },
              { arabic: 'ÿ®ÿ≠ÿ® ÿ£ÿ¥ŸàŸÅŸÉ ŸÉŸÑ ŸäŸàŸÖ', transliteration: "Bhebb shoufak kel yawm", french: "J'aime te voir chaque jour" },
              { arabic: 'ÿ®ÿπÿ±ŸÅ ÿ£ÿ≠ŸÉŸä ŸÅÿ±ŸÜÿ≥Ÿä Ÿàÿπÿ±ÿ®Ÿä', transliteration: "B'ref ehke frense w 'arabe", french: "Je sais parler fran√ßais et arabe" },
              { arabic: 'ŸÖÿß ÿ®ŸÅŸáŸÖ ÿ¥Ÿà ÿπŸÖ ÿ™ŸÇŸàŸÑ', transliteration: "Ma bfham shou 'am t'oul", french: "Je ne comprends pas ce que tu dis" },
              { arabic: 'ÿ®ÿ¢ŸÉŸÑ ÿ™ŸÅÿßÿ≠ÿ© ŸÉŸÑ ÿµÿ®ÿ≠', transliteration: "Bekol teffah√© kel sebeh", french: "Je mange une pomme chaque matin" },
              { arabic: 'ÿ®ŸÜÿßŸÖ ÿßŸÑÿ≥ÿßÿπÿ© ÿπÿ¥ÿ±ÿ© ÿ®ÿßŸÑŸÑŸäŸÑ', transliteration: "Bnem es-s√©'a 'ashara bel layl", french: "Je dors √† dix heures le soir" },
            ],
            expressions: [
              { arabic: 'ŸäŸÑÿß ÿ®ŸäŸÜÿß ŸÜÿ±Ÿàÿ≠!', transliteration: "Yalla binna nrouh!", french: "Allez, on y va !" },
              { arabic: 'ÿ•ŸÜ ÿ¥ÿßÿ° ÿßŸÑŸÑŸá ÿ®ÿ¥ŸàŸÅŸÉ ÿ®ŸÉÿ±ÿß', transliteration: "Inshallah bshoufak bokra", french: "Si Dieu veut, je te vois demain" },
              { arabic: 'ÿ¥Ÿà ŸáÿßŸÑÿ≠ŸÑÿß Ÿäÿß ÿ≠ÿ®Ÿäÿ®Ÿä!', transliteration: "Shou hal hala ya habibi!", french: "Comme tu es beau, mon ch√©ri !" },
              { arabic: 'ÿ™ŸÅÿ∂ŸÑÿå ÿÆŸàÿØ ŸÇŸáŸàÿ©', transliteration: "Tfaddal, khoud ahw√©", french: "Je t'en prie, prends un caf√©" },
              { arabic: 'ŸÖÿßÿ¥Ÿä ÿßŸÑÿ≠ÿßŸÑÿå ŸÖÿß ŸÅŸä ŸÖÿ¥ŸÉŸÑÿ©', transliteration: "Meshi l-hal, ma fi mushkil√©", french: "√áa va, pas de probl√®me" },
              { arabic: 'ÿ®ÿßŸÑÿ™ŸàŸÅŸäŸÇ ÿ®ÿßŸÑÿßŸÖÿ™ÿ≠ÿßŸÜ!', transliteration: "Bel tawfi' bel emtehan!", french: "Bonne chance pour l'examen !" },
            ],
            couleurs: [
              { arabic: 'ÿßŸÑÿ®ÿ≠ÿ± ÿ£ÿ≤ÿ±ŸÇ ŸÉÿ™Ÿäÿ± ÿ≠ŸÑŸà', transliteration: "El baher azra' ktir helou", french: "La mer est tr√®s joliment bleue" },
              { arabic: 'ÿ®ÿ≠ÿ® ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ£ÿÆÿ∂ÿ±', transliteration: "Bhebb el lawn el-akhdar", french: "J'aime la couleur verte" },
              { arabic: 'ÿ≥Ÿäÿßÿ±ÿ™Ÿä ÿ≠ŸÖÿ±ÿß', transliteration: "Sayyarte hamra", french: "Ma voiture est rouge" },
              { arabic: 'ŸáÿßŸÑÿ≤Ÿáÿ±ÿ© Ÿàÿ±ÿØŸä', transliteration: "Hal zahr√© warde", french: "Cette fleur est rose" },
              { arabic: 'ÿ®ÿØŸä ŸÇŸÖŸäÿµ ÿ£ÿ®Ÿäÿ∂ Ÿàÿ®ŸÜÿ∑ŸÑŸàŸÜ ÿ£ÿ≥ŸàÿØ', transliteration: "Badde amis abyad w bantalon aswad", french: "Je veux une chemise blanche et un pantalon noir" },
              { arabic: 'ÿßŸÑÿ¥ŸÖÿ≥ ÿµŸÅÿ±ÿß ŸàÿßŸÑÿ≥ŸÖÿß ÿ≤ÿ±ŸÇÿß', transliteration: "Esh-shams safra w es-sama zar'a", french: "Le soleil est jaune et le ciel est bleu" },
            ],
            temps: [
              { arabic: 'ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¨Ÿà ÿ≠ŸÑŸà ŸÉÿ™Ÿäÿ±', transliteration: "El yawm el jaw helou ktir", french: "Aujourd'hui le temps est tr√®s beau" },
              { arabic: 'ÿ®ŸÉÿ±ÿß ŸÅŸä ÿ¥ŸÖÿ≥', transliteration: "Bokra fi shams", french: "Demain il y aura du soleil" },
              { arabic: 'ŸÖÿ®ÿßÿ±ÿ≠ ŸÉÿßŸÜ ŸÅŸä ÿ¥ÿ™Ÿä', transliteration: "Mbereh ken fi shte", french: "Hier il pleuvait" },
              { arabic: 'ŸáŸÑŸÇ ÿ®ÿØŸä ÿ±Ÿàÿ≠', transliteration: "Halla' badde rouh", french: "Maintenant je vais partir" },
              { arabic: 'ÿ®ÿ¥ŸàŸÅŸÉ ÿ¥ŸàŸäÿå ÿßŸÜÿ™ÿ∏ÿ±ŸÜŸä', transliteration: "Bshoufak shway, entazerne", french: "Je te vois bient√¥t, attends-moi" },
              { arabic: 'ÿßŸÑÿµÿ®ÿ≠ ŸÅŸä ÿ®ÿ±ÿØ', transliteration: "Es-sebeh fi bared", french: "Le matin il fait froid" },
            ],
            lieux: [
              { arabic: 'ÿ£ŸÜÿß ÿ®ÿßŸÑÿ®Ÿäÿ™ ŸáŸÑŸÇ', transliteration: "Ana bel bayt halla'", french: "Je suis √† la maison maintenant" },
              { arabic: 'ÿ®ÿ¥ÿ™ÿ∫ŸÑ ÿ®ŸÖÿ∑ÿπŸÖ ÿ®Ÿàÿ≥ÿ∑ ÿßŸÑÿ®ŸÑÿØ', transliteration: "Beshteghel b mat'am b west el balad", french: "Je travaille dans un restaurant au centre-ville" },
              { arabic: 'ŸÅŸä ÿØŸÉÿßŸÜ ŸÖŸÜŸäÿ≠ ÿπÿßŸÑÿ¥ÿßÿ±ÿπ', transliteration: "Fi dekken mnih 'al shere'", french: "Il y a un bon magasin dans la rue" },
              { arabic: 'ŸàŸÑÿßÿØŸä ÿ®ÿßŸÑŸÖÿØÿ±ÿ≥ÿ©', transliteration: "Wlede bel madras√©", french: "Mes enfants sont √† l'√©cole" },
              { arabic: 'ÿ±ÿßŸäÿ≠ ÿπŸÑŸâ ÿßŸÑÿ¨ÿßŸÖÿπÿ© ÿ®ŸÉÿ±ÿß', transliteration: "Rayeh 'al jem'a bokra", french: "Je vais √† l'universit√© demain" },
              { arabic: 'ÿ®ÿØŸÜÿß ŸÜÿ±Ÿàÿ≠ ÿπŸÑŸâ ÿßŸÑÿ≥ŸàŸÇ', transliteration: "Badna nrouh 'al sou'", french: "Nous voulons aller au march√©" },
            ],
          };

          const grammar = [
            {
              title: 'Genre (masculin/f√©minin)',
              explanation: "En arabe libanais, les adjectifs et verbes s'accordent en genre. Pour s'adresser √† une femme, on ajoute souvent '-√©' ou '-i' √† la fin.",
              examples: [
                { text: "Kifak? (masculin) ‚Üí Kifik? (f√©minin)", translation: "Comment vas-tu ?" },
                { text: "Mnih (masculin) ‚Üí Mniha (f√©minin)", translation: "Bien" },
                { text: "Helou (beau) ‚Üí Helw√© (belle)", translation: "" },
                { text: "Ta'ben (fatigu√©) ‚Üí Ta'ben√© (fatigu√©e)", translation: "" },
              ]
            },
            {
              title: 'Le pr√©fixe "B-" pour le pr√©sent',
              explanation: "Les verbes au pr√©sent commencent g√©n√©ralement par 'b-' en arabe libanais. Ce pr√©fixe indique une action habituelle ou en cours.",
              examples: [
                { text: "B'ref", translation: "Je sais" },
                { text: "Bfham", translation: "Je comprends" },
                { text: "Bhebb", translation: "J'aime" },
                { text: "Bekol", translation: "Je mange" },
                { text: "Bedros", translation: "J'√©tudie" },
              ]
            },
            {
              title: 'N√©gation avec "Ma-"',
              explanation: "Pour nier, on ajoute 'ma-' au d√©but et souvent '-sh' √† la fin du verbe. Le '-sh' renforce la n√©gation.",
              examples: [
                { text: "Ma b'ref", translation: "Je ne sais pas" },
                { text: "Ma bfham-sh", translation: "Je ne comprends pas" },
                { text: "Ma badde", translation: "Je ne veux pas" },
                { text: "Ma bhebb-sh", translation: "Je n'aime pas" },
                { text: "Ma fi", translation: "Il n'y a pas" },
              ]
            },
            {
              title: 'Pronoms possessifs',
              explanation: "Les pronoms possessifs sont des suffixes ajout√©s √† la fin des mots. Ils s'accordent avec le possesseur.",
              examples: [
                { text: "Bayye (mon p√®re), bayyak (ton p√®re), bayyo (son p√®re)", translation: "Suffixes: -e/-i (mon), -ak/-ik (ton), -o/-a (son)" },
                { text: "Emme (ma m√®re), emmik (ta m√®re), emmo (sa m√®re)", translation: "" },
                { text: "Bayt√© (ma maison), baytak (ta maison), bayto (sa maison)", translation: "" },
              ]
            },
            {
              title: 'Les pronoms personnels sujets',
              explanation: "Les pronoms sujets sont souvent omis en arabe libanais car le verbe indique d√©j√† la personne.",
              examples: [
                { text: "Ana = Je, Enta (m) / Ente (f) = Tu, Houwe = Il, Hiye = Elle", translation: "Pronoms de base" },
                { text: "Nehna = Nous, Ento = Vous, Henn√©n = Ils/Elles", translation: "Pronoms pluriels" },
                { text: "Bhebb = J'aime (ana sous-entendu)", translation: "Le pronom est optionnel" },
              ]
            },
            {
              title: 'Les questions',
              explanation: "Pour poser une question, on utilise des mots interrogatifs ou on ajoute une intonation montante.",
              examples: [
                { text: "Shou? = Quoi?, Min? = Qui?, Wen? = O√π?, Leish? = Pourquoi?", translation: "Mots interrogatifs de base" },
                { text: "Kif√©? = Comment?, Emt√©? = Quand?, Addeysh? = Combien?", translation: "Autres questions" },
                { text: "Shou badak? = Qu'est-ce que tu veux?", translation: "" },
                { text: "Wen rayeh? = O√π vas-tu?", translation: "" },
              ]
            },
            {
              title: 'Le futur avec "Rah" ou "H√©"',
              explanation: "Pour exprimer le futur, on ajoute 'rah' (je vais) ou 'h√©/ha' avant le verbe au pr√©sent.",
              examples: [
                { text: "Rah rouh = Je vais aller", translation: "Futur avec 'rah'" },
                { text: "Rah ekol = Je vais manger", translation: "" },
                { text: "Ha yeje = Il va venir", translation: "Futur avec 'ha'" },
                { text: "Ha neshrab ahw√© = Nous allons boire du caf√©", translation: "" },
              ]
            },
            {
              title: 'Le pass√©',
              explanation: "Le pass√© se forme diff√©remment selon la personne. Les verbes changent de forme pour indiquer le pass√©.",
              examples: [
                { text: "Kel = Il a mang√©, Kelit = J'ai mang√©, Kelnna = Nous avons mang√©", translation: "Verbe 'manger' au pass√©" },
                { text: "Rah = Il est all√©, Roht = Je suis all√©(e), Rohna = Nous sommes all√©s", translation: "Verbe 'aller' au pass√©" },
                { text: "Shef = Il a vu, Shefet = Elle a vu, Sheft = J'ai vu", translation: "Verbe 'voir' au pass√©" },
              ]
            },
            {
              title: 'Les pr√©positions courantes',
              explanation: "Les pr√©positions indiquent les relations spatiales et temporelles.",
              examples: [
                { text: "Fi = Dans/Il y a, 'Ala = Sur, Ta'het = Sous", translation: "Pr√©positions de lieu" },
                { text: "Ma'a = Avec, Bidoun = Sans, Min = De/Depuis", translation: "Autres pr√©positions" },
                { text: "Fi el bayt = Dans la maison", translation: "" },
                { text: "Ma'a sadek√© = Avec mon ami", translation: "" },
              ]
            },
            {
              title: 'L\'article d√©fini "El"',
              explanation: "L'article d√©fini 'el' (le/la/les) se place avant le nom. Il s'assimile parfois √† la premi√®re lettre du mot.",
              examples: [
                { text: "El bayt = La maison, El walad = Le gar√ßon", translation: "Article 'el' standard" },
                { text: "Esh-shams = Le soleil (el + shams)", translation: "Assimilation avec 'sh'" },
                { text: "En-nar = Le feu (el + nar)", translation: "Assimilation avec 'n'" },
                { text: "Es-sayyara = La voiture (el + sayyara)", translation: "Assimilation avec 's'" },
              ]
            },
            {
              title: 'Les adjectifs d√©monstratifs',
              explanation: "Pour d√©signer quelque chose (ce, cet, cette, ces), on utilise des d√©monstratifs.",
              examples: [
                { text: "Hayda (m) / Haydi (f) = Ce/Cet/Cette (proche)", translation: "D√©monstratifs proches" },
                { text: "Hadak (m) / Hadik (f) = Ce/Cette (√©loign√©)", translation: "D√©monstratifs √©loign√©s" },
                { text: "Hayda el walad = Ce gar√ßon", translation: "" },
                { text: "Haydi el bent = Cette fille", translation: "" },
              ]
            },
            {
              title: 'Expressions de politesse',
              explanation: "Des expressions idiomatiques utilis√©es dans la conversation quotidienne pour √™tre poli.",
              examples: [
                { text: "Law samaht = S'il te pla√Æt", translation: "" },
                { text: "Ma'lesh = Ce n'est pas grave / Pas de probl√®me", translation: "" },
                { text: "Tfaddal = Je t'en prie / Vas-y", translation: "" },
                { text: "Allah y'allem = Que Dieu te b√©nisse", translation: "R√©ponse au merci" },
              ]
            },
          ];

          const currentVocab = reviewMode ? getReviewWords() : vocabulary[currentCategory];
          const currentCard = currentVocab[currentCardIndex];

          function getReviewWords() {
            const learnedWords = [];
            Object.keys(vocabulary).forEach(cat => {
              const catProgress = progress[cat] || {};
              vocabulary[cat].forEach((word, idx) => {
                if (catProgress[idx]) {
                  learnedWords.push(word);
                }
              });
            });
            return learnedWords.length > 0 ? learnedWords : [{ arabic: 'Aucun mot appris', transliteration: '', french: 'Commencez √† apprendre du vocabulaire!' }];
          }

          const markCardAsSeen = () => {
            if (!reviewMode) {
              const newProgress = { ...progress };
              if (!newProgress[currentCategory]) {
                newProgress[currentCategory] = {};
              }
              newProgress[currentCategory][currentCardIndex] = true;
              setProgress(newProgress);
              saveProgress(newProgress);
            }
          };

          const nextCard = () => {
            markCardAsSeen();
            setShowTranslation(false);
            setCurrentCardIndex((prev) => (prev + 1) % currentVocab.length);
          };

          const prevCard = () => {
            setShowTranslation(false);
            setCurrentCardIndex((prev) => (prev - 1 + currentVocab.length) % currentVocab.length);
          };

          const speakArabic = (text) => {
            if ('speechSynthesis' in window) {
              const utterance = new SpeechSynthesisUtterance(text);
              utterance.lang = 'ar-SA';
              utterance.rate = 0.8;
              window.speechSynthesis.speak(utterance);
            }
          };

          const startQuiz = () => {
            setQuizMode(true);
            setQuizAnswers({});
            setQuizSubmitted(false);
          };

          const submitQuiz = () => {
            setQuizSubmitted(true);
            const correct = Object.values(quizAnswers).filter(answer => answer.isCorrect).length;
            const total = vocabulary[currentCategory].length;
            
            if (correct === total) {
              const newCompleted = [...completedCategories];
              if (!newCompleted.includes(currentCategory)) {
                newCompleted.push(currentCategory);
                setCompletedCategories(newCompleted);
                saveProgress(progress, newCompleted);
              }
            }
          };

          const getCategoryProgress = (categoryKey) => {
            const catProgress = progress[categoryKey] || {};
            const total = vocabulary[categoryKey].length;
            const seen = Object.keys(catProgress).length;
            return { seen, total, percentage: Math.round((seen / total) * 100) };
          };

          const getTotalProgress = () => {
            let totalSeen = 0;
            let totalWords = 0;
            Object.keys(vocabulary).forEach(cat => {
              const prog = getCategoryProgress(cat);
              totalSeen += prog.seen;
              totalWords += prog.total;
            });
            return { seen: totalSeen, total: totalWords, percentage: Math.round((totalSeen / totalWords) * 100) };
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
              {/* Header */}
              <div className="bg-white shadow-md">
                <div className="max-w-6xl mx-auto px-4 py-4">
                  <div className="flex items-center justify-between">
                    <div className="flex items-center gap-3">
                      <BookOpen />
                      <div>
                        <h1 className="text-2xl font-bold text-gray-800">Arabe Libanais</h1>
                        <p className="text-sm text-gray-600">
                          {getTotalProgress().seen} / {getTotalProgress().total} mots appris ({getTotalProgress().percentage}%)
                        </p>
                      </div>
                    </div>
                    <div className="flex items-center gap-3">
                      <div className="text-right hidden sm:block">
                        <p className="text-sm text-gray-600">Cat√©gories compl√©t√©es</p>
                        <p className="text-xl font-bold text-indigo-600">{completedCategories.length} / {Object.keys(categories).length}</p>
                      </div>
                      <Trophy className="w-8 h-8 text-yellow-500" />
                    </div>
                  </div>
                </div>
              </div>

              {/* Navigation Tabs */}
              <div className="bg-white border-b shadow-sm">
                <div className="max-w-6xl mx-auto px-4">
                  <div className="flex gap-6 overflow-x-auto">
                    <button
                      onClick={() => { setActiveTab('vocabulary'); setReviewMode(false); setQuizMode(false); }}
                      className={`py-3 px-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                        activeTab === 'vocabulary' && !reviewMode
                          ? 'border-indigo-600 text-indigo-600'
                          : 'border-transparent text-gray-600 hover:text-gray-800'
                      }`}
                    >
                      üìö Vocabulaire
                    </button>
                    <button
                      onClick={() => { setActiveTab('vocabulary'); setReviewMode(true); setQuizMode(false); setCurrentCardIndex(0); }}
                      className={`py-3 px-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                        reviewMode
                          ? 'border-green-600 text-green-600'
                          : 'border-transparent text-gray-600 hover:text-gray-800'
                      }`}
                    >
                      üîÑ R√©vision
                    </button>
                    <button
                      onClick={() => { setActiveTab('learned'); setReviewMode(false); setQuizMode(false); }}
                      className={`py-3 px-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                        activeTab === 'learned'
                          ? 'border-purple-600 text-purple-600'
                          : 'border-transparent text-gray-600 hover:text-gray-800'
                      }`}
                    >
                      üìù Mes mots appris
                    </button>
                    <button
                      onClick={() => { setActiveTab('grammar'); setReviewMode(false); setQuizMode(false); }}
                      className={`py-3 px-4 font-medium whitespace-nowrap border-b-2 transition-colors ${
                        activeTab === 'grammar'
                          ? 'border-indigo-600 text-indigo-600'
                          : 'border-transparent text-gray-600 hover:text-gray-800'
                      }`}
                    >
                      üìñ Grammaire
                    </button>
                  </div>
                </div>
              </div>

              <div className="max-w-6xl mx-auto px-4 py-8">
                {activeTab === 'vocabulary' && !quizMode && (
                  <div className="grid md:grid-cols-3 gap-6">
                    {/* Categories Sidebar */}
                    <div className="md:col-span-1">
                      <div className="bg-white rounded-lg shadow-lg p-4">
                        <h2 className="text-lg font-bold text-gray-800 mb-4">
                          {reviewMode ? 'Mode R√©vision' : 'Cat√©gories'}
                        </h2>
                        {!reviewMode && (
                          <div className="space-y-2">
                            {Object.entries(categories).map(([key, cat]) => {
                              const prog = getCategoryProgress(key);
                              const isCompleted = completedCategories.includes(key);
                              return (
                                <button
                                  key={key}
                                  onClick={() => {
                                    setCurrentCategory(key);
                                    setCurrentCardIndex(0);
                                    setShowTranslation(false);
                                  }}
                                  className={`w-full text-left px-4 py-3 rounded-lg transition-all ${
                                    currentCategory === key
                                      ? 'bg-indigo-600 text-white shadow-md'
                                      : 'bg-gray-50 text-gray-700 hover:bg-gray-100'
                                  }`}
                                >
                                  <div className="flex items-center justify-between gap-3">
                                    <div className="flex items-center gap-3">
                                      <span className="text-2xl">{cat.icon}</span>
                                      <div>
                                        <div className="font-medium flex items-center gap-2">
                                          {cat.name}
                                          {isCompleted && <CheckCircle className="w-4 h-4 text-green-400" />}
                                        </div>
                                        <div className={`text-xs ${currentCategory === key ? 'text-indigo-200' : 'text-gray-500'}`}>
                                          {prog.seen}/{prog.total} vus
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div className="mt-2 bg-gray-200 rounded-full h-1.5">
                                    <div
                                      className={`h-1.5 rounded-full ${currentCategory === key ? 'bg-white' : 'bg-indigo-600'}`}
                                      style={{ width: `${prog.percentage}%` }}
                                    ></div>
                                  </div>
                                </button>
                              );
                            })}
                          </div>
                        )}
                        {reviewMode && (
                          <div className="bg-green-50 border border-green-200 rounded-lg p-4">
                            <p className="text-green-800 text-sm">
                              R√©visez tous les mots que vous avez d√©j√† vus.
                            </p>
                            <p className="text-green-700 font-bold mt-2">
                              {getReviewWords().length} mots √† r√©viser
                            </p>
                          </div>
                        )}
                      </div>
                    </div>

                    {/* Flashcard Area */}
                    <div className="md:col-span-2">
                      <div className="bg-white rounded-lg shadow-xl p-8">
                        <div className="text-center mb-6">
                          <h2 className="text-2xl font-bold text-gray-800 mb-2">
                            {reviewMode ? 'R√©vision' : categories[currentCategory].name}
                          </h2>
                          <p className="text-gray-600">
                            Carte {currentCardIndex + 1} sur {currentVocab.length}
                          </p>
                        </div>

                        {/* Toggle between Flashcards and Examples */}
                        {!reviewMode && (
                          <div className="flex gap-2 mb-6 justify-center">
                            <button
                              onClick={() => setShowExamples(false)}
                              className={`px-6 py-2 rounded-lg font-medium transition-colors ${
                                !showExamples
                                  ? 'bg-indigo-600 text-white'
                                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                              }`}
                            >
                              üìö Vocabulaire
                            </button>
                            <button
                              onClick={() => setShowExamples(true)}
                              className={`px-6 py-2 rounded-lg font-medium transition-colors ${
                                showExamples
                                  ? 'bg-green-600 text-white'
                                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                              }`}
                            >
                              üí¨ Phrases d'exemple
                            </button>
                          </div>
                        )}

                        {!showExamples ? (
                          <>
                            {/* Flashcard */}
                            <div
                              onClick={() => { setShowTranslation(!showTranslation); markCardAsSeen(); }}
                              className="bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-12 min-h-[300px] flex flex-col items-center justify-center cursor-pointer shadow-lg hover:shadow-xl transition-shadow"
                            >
                              {!showTranslation ? (
                                <div className="text-center">
                                  <p className="text-6xl text-white mb-6">{currentCard.arabic}</p>
                                  <p className="text-2xl text-indigo-100 font-medium">
                                    {currentCard.transliteration}
                                  </p>
                                  <button
                                    onClick={(e) => {
                                      e.stopPropagation();
                                      speakArabic(currentCard.arabic);
                                    }}
                                    className="mt-6 bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-6 py-3 rounded-full flex items-center gap-2 mx-auto transition-all"
                                  >
                                    <Volume2 />
                                    √âcouter
                                  </button>
                                </div>
                              ) : (
                                <div className="text-center">
                                  <p className="text-4xl text-white font-bold mb-4">
                                    {currentCard.french}
                                  </p>
                                  <p className="text-xl text-indigo-100">
                                    {currentCard.transliteration}
                                  </p>
                                </div>
                              )}
                            </div>

                            <p className="text-center text-gray-500 mt-4 text-sm">
                              Cliquez sur la carte pour voir la traduction
                            </p>
                          </>
                        ) : (
                          <>
                            {/* Example Sentences */}
                            <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-8 border-2 border-green-200">
                              <div className="text-center mb-6">
                                <h3 className="text-2xl font-bold text-green-800 mb-2">
                                  üí¨ Phrases d'exemple
                                </h3>
                                <p className="text-green-700">
                                  Apprenez √† utiliser le vocabulaire dans des phrases compl√®tes
                                </p>
                              </div>

                              <div className="space-y-6">
                                {exampleSentences[currentCategory].map((sentence, idx) => (
                                  <div 
                                    key={idx}
                                    className="bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-shadow cursor-pointer"
                                    onClick={() => speakArabic(sentence.arabic)}
                                  >
                                    <div className="flex items-start justify-between mb-3">
                                      <p className="text-2xl text-gray-800 flex-1">{sentence.arabic}</p>
                                      <button
                                        onClick={(e) => {
                                          e.stopPropagation();
                                          speakArabic(sentence.arabic);
                                        }}
                                        className="bg-green-100 hover:bg-green-200 text-green-700 p-2 rounded-full transition-colors flex-shrink-0"
                                      >
                                        <Volume2 className="w-5 h-5" />
                                      </button>
                                    </div>
                                    <p className="text-green-700 font-medium mb-2 text-lg">
                                      {sentence.transliteration}
                                    </p>
                                    <p className="text-gray-700 font-semibold">
                                      ‚Üí {sentence.french}
                                    </p>
                                  </div>
                                ))}
                              </div>
                            </div>
                            <p className="text-center text-gray-500 mt-4 text-sm">
                              Cliquez sur une phrase pour entendre sa prononciation
                            </p>
                          </>
                        )}

                        {/* Navigation */}
                        <div className="flex justify-between items-center mt-8">
                          <button
                            onClick={prevCard}
                            className="bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2"
                          >
                            <ChevronRight className="w-5 h-5 rotate-180" />
                            Pr√©c√©dent
                          </button>
                          {!reviewMode && getCategoryProgress(currentCategory).percentage === 100 && (
                            <button
                              onClick={startQuiz}
                              className="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2"
                            >
                              <Trophy className="w-5 h-5" />
                              Quiz de validation
                            </button>
                          )}
                          <button
                            onClick={nextCard}
                            className="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2"
                          >
                            Suivant
                            <ChevronRight className="w-5 h-5" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {quizMode && (
                  <div className="max-w-4xl mx-auto">
                    <div className="bg-white rounded-lg shadow-xl p-8">
                      <div className="text-center mb-6">
                        <Trophy className="w-16 h-16 text-yellow-500 mx-auto mb-4" />
                        <h2 className="text-3xl font-bold text-gray-800 mb-2">
                          Quiz de validation - {categories[currentCategory].name}
                        </h2>
                        <p className="text-gray-600">
                          Testez vos connaissances ! Toutes les r√©ponses doivent √™tre correctes pour valider la cat√©gorie.
                        </p>
                      </div>

                      {!quizSubmitted ? (
                        <div className="space-y-6">
                          {vocabulary[currentCategory].map((word, idx) => (
                            <div key={idx} className="border border-gray-200 rounded-lg p-4">
                              <div className="flex items-center gap-4 mb-3">
                                <p className="text-3xl">{word.arabic}</p>
                                <p className="text-gray-600">({word.transliteration})</p>
                              </div>
                              <input
                                type="text"
                                placeholder="Traduction en fran√ßais..."
                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                onChange={(e) => {
                                  const answer = e.target.value.toLowerCase().trim();
                                  const correct = word.french.toLowerCase();
                                  setQuizAnswers({
                                    ...quizAnswers,
                                    [idx]: { answer, isCorrect: answer === correct }
                                  });
                                }}
                              />
                            </div>
                          ))}
                          <button
                            onClick={submitQuiz}
                            disabled={Object.keys(quizAnswers).length !== vocabulary[currentCategory].length}
                            className="w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 text-white px-6 py-3 rounded-lg font-medium transition-colors"
                          >
                            Valider le quiz
                          </button>
                        </div>
                      ) : (
                        <div>
                          <div className="space-y-4 mb-6">
                            {vocabulary[currentCategory].map((word, idx) => {
                              const userAnswer = quizAnswers[idx];
                              return (
                                <div key={idx} className={`border-2 rounded-lg p-4 ${userAnswer?.isCorrect ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'}`}>
                                  <div className="flex items-center gap-3">
                                    {userAnswer?.isCorrect ? (
                                      <CheckCircle className="w-6 h-6 text-green-600" />
                                    ) : (
                                      <XCircle className="w-6 h-6 text-red-600" />
                                    )}
                                    <div>
                                      <p className="text-xl">{word.arabic} ({word.transliteration})</p>
                                      <p className="text-sm text-gray-700">
                                        Correct: <strong>{word.french}</strong>
                                      </p>
                                      {!userAnswer?.isCorrect && (
                                        <p className="text-sm text-red-700">
                                          Votre r√©ponse: {userAnswer?.answer || '(vide)'}
                                        </p>
                                      )}
                                    </div>
                                  </div>
                                </div>
                              );
                            })}
                          </div>

                          {Object.values(quizAnswers).every(a => a.isCorrect) ? (
                            <div className="bg-green-100 border border-green-500 rounded-lg p-6 text-center">
                              <CheckCircle className="w-16 h-16 text-green-600 mx-auto mb-4" />
                              <h3 className="text-2xl font-bold text-green-800 mb-2">
                                F√©licitations ! üéâ
                              </h3>
                              <p className="text-green-700 mb-4">
                                Vous avez valid√© la cat√©gorie "{categories[currentCategory].name}" !
                              </p>
                              <button
                                onClick={() => setQuizMode(false)}
                                className="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"
                              >
                                Retour au vocabulaire
                              </button>
                            </div>
                          ) : (
                            <div className="bg-orange-100 border border-orange-500 rounded-lg p-6 text-center">
                              <XCircle className="w-16 h-16 text-orange-600 mx-auto mb-4" />
                              <h3 className="text-2xl font-bold text-orange-800 mb-2">
                                Presque !
                              </h3>
                              <p className="text-orange-700 mb-4">
                                Vous avez {Object.values(quizAnswers).filter(a => a.isCorrect).length} / {vocabulary[currentCategory].length} bonnes r√©ponses.
                                R√©visez et r√©essayez !
                              </p>
                              <div className="flex gap-4 justify-center">
                                <button
                                  onClick={() => { setQuizMode(false); setQuizSubmitted(false); }}
                                  className="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"
                                >
                                  R√©viser
                                </button>
                                <button
                                  onClick={() => { setQuizSubmitted(false); setQuizAnswers({}); }}
                                  className="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2"
                                >
                                  <RotateCcw className="w-5 h-5" />
                                  Recommencer le quiz
                                </button>
                              </div>
                            </div>
                          )}
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {activeTab === 'learned' && (
                  <div className="max-w-6xl mx-auto">
                    <div className="bg-white rounded-lg shadow-xl p-8">
                      <div className="text-center mb-8">
                        <h2 className="text-3xl font-bold text-gray-800 mb-2">
                          üìù Mes mots appris
                        </h2>
                        <p className="text-gray-600">
                          {getTotalProgress().seen} mots appris sur {getTotalProgress().total} ({getTotalProgress().percentage}%)
                        </p>
                      </div>

                      {getTotalProgress().seen === 0 ? (
                        <div className="text-center py-12">
                          <div className="text-6xl mb-4">üìö</div>
                          <p className="text-xl text-gray-600 mb-2">Vous n'avez pas encore appris de mots</p>
                          <p className="text-gray-500">Commencez par explorer les cat√©gories de vocabulaire !</p>
                          <button
                            onClick={() => { setActiveTab('vocabulary'); setReviewMode(false); }}
                            className="mt-6 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"
                          >
                            Commencer √† apprendre
                          </button>
                        </div>
                      ) : (
                        <div className="space-y-8">
                          {Object.entries(categories).map(([catKey, cat]) => {
                            const catProgress = progress[catKey] || {};
                            const learnedWords = vocabulary[catKey].filter((word, idx) => catProgress[idx]);
                            
                            if (learnedWords.length === 0) return null;

                            return (
                              <div key={catKey} className="border-l-4 border-indigo-600 pl-6 py-2">
                                <div className="flex items-center gap-3 mb-4">
                                  <span className="text-3xl">{cat.icon}</span>
                                  <div>
                                    <h3 className="text-2xl font-bold text-gray-800">{cat.name}</h3>
                                    <p className="text-sm text-gray-600">
                                      {learnedWords.length} mot{learnedWords.length > 1 ? 's' : ''} appris
                                      {completedCategories.includes(catKey) && (
                                        <span className="ml-2 text-green-600 font-semibold">‚úì Valid√©e</span>
                                      )}
                                    </p>
                                  </div>
                                </div>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                  {learnedWords.map((word, idx) => (
                                    <div 
                                      key={idx}
                                      className="bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer"
                                      onClick={() => speakArabic(word.arabic)}
                                    >
                                      <div className="flex items-start justify-between mb-2">
                                        <p className="text-3xl">{word.arabic}</p>
                                        <Volume2 className="w-4 h-4 text-indigo-600 flex-shrink-0 mt-2" />
                                      </div>
                                      <p className="text-sm text-indigo-600 font-medium mb-1">
                                        {word.transliteration}
                                      </p>
                                      <p className="text-gray-700 font-semibold">
                                        {word.french}
                                      </p>
                                    </div>
                                  ))}
                                </div>
                              </div>
                            );
                          })}
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {activeTab === 'grammar' && (
                  <div className="max-w-4xl mx-auto">
                    <div className="bg-white rounded-lg shadow-xl p-8">
                      <h2 className="text-3xl font-bold text-gray-800 mb-6">
                        R√®gles de Grammaire
                      </h2>
                      <div className="space-y-8">
                        {grammar.map((rule, index) => (
                          <div key={index} className="border-l-4 border-indigo-600 pl-6 py-2">
                            <h3 className="text-xl font-bold text-gray-800 mb-3">
                              {rule.title}
                            </h3>
                            <p className="text-gray-700 mb-4 leading-relaxed">
                              {rule.explanation}
                            </p>
                            <div className="bg-indigo-50 rounded-lg p-4 space-y-3">
                              <p className="font-semibold text-indigo-900">Exemples :</p>
                              {rule.examples.map((example, i) => (
                                <div key={i} className="flex flex-col gap-1">
                                  <p className="text-gray-800 font-medium">{example.text}</p>
                                  {example.translation && (
                                    <p className="text-gray-600 text-sm italic">
                                      ‚Üí {example.translation}
                                    </p>
                                  )}
                                </div>
                              ))}
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>
                )}
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<LebaneseLearningApp />);
    </script>
</body>
</html>